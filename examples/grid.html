<!doctype html>
<meta charset="utf-8">
<script src="../js/d3.js"></script>
<script src="../build/vistk.js"></script>
<link href="../css/vistk.css" rel="stylesheet">
<body>
<div id="viz"></div>
<script>

// TODO
// [X] Create fake data for the table to be screen filling
// [ ] Customize enter exit behaviors using colors (e.g. red before exit)
// [ ] Create some nested charts within each cell (instead of marks)
// [ ] Option for using a consistant grid (e.g. 100 items)
//     which implies to use a color cutoff rather than enter/exit elements
// [ ] See http://bl.ocks.org/mbostock/1009139

var visualization = vistk.viz().params({
    type: "grid",
    width: 800,
    height: 600,
    container: "#viz",
    data: [],
    mark: {
      type: "rect",
      width: 10,
      height: 10,
      enter: null,
      exit: function(d) { 
        // TODO: vistk wait for the next event

        // TODO: apply the color change
        d3.select(this).style("fill", "red"); 
      }
    }
  });

setInterval(function(d) {

  var data = d3.range(100*Math.random());

  visualization.params({data: data});
  d3.select("#viz").call(visualization);

}, 1000)

</script>
</body>